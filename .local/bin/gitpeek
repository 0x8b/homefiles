#!/bin/bash -x

# https://news.ycombinator.com/item?id=26083919

REPO="$1"
TMPD="$(mktemp -d)"

if [[ ! "$REPO" =~ ^https ]] ; then
  REPO="https://github.com/$REPO"
fi

git clone --depth 1 "$REPO" "$TMPD" || return

echo "$TMPD # $REPO" >> ~/.last-git-peek

cd "$TMPD" # undo by `cd -`
